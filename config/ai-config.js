// AI Configuration for yodobloom SAKE
// yodobloom SAKEå°‚ç”¨ AIè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

window.aiConfig = {
    // OpenAI Configuration
    openai: {
        apiKey: 'YOUR_OPENAI_API_KEY_HERE', // GitHub Pagesã§å‹•ä½œã•ã›ã‚‹ã«ã¯APIã‚­ãƒ¼ã‚’ç›´æ¥å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
        model: 'gpt-4',
        maxTokens: 1000,
        temperature: 0.7
    },
    
    // DeepL Configuration
    deepl: {
        apiKey: 'YOUR_DEEPL_API_KEY_HERE', // GitHub Pagesã§å‹•ä½œã•ã›ã‚‹ã«ã¯APIã‚­ãƒ¼ã‚’ç›´æ¥å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
        apiUrl: 'https://api-free.deepl.com/v2/translate'
    },
    
    // AI Chatbot Settings - yodobloom SAKEå°‚ç”¨
    chatbot: {
        systemPrompt: `ã‚ãªãŸã¯ã€Œyodobloom SAKE AIã‚µãƒãƒ¼ãƒˆã€ã§ã™ã€‚yodobloom SAKEå°‚ç”¨ã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨ã—ã¦ã€ä»¥ä¸‹ã®å½¹å‰²ã‚’æ‹…ã„ã¾ã™ï¼š

ã€yodobloom SAKEã«ã¤ã„ã¦ã€‘
- æ‰€åœ¨åœ°: å¤§é˜ªå¸‚åŒ—åŒºå¤§æ·±ç”º1-1 2éš
- é›»è©±: 06-4802-1010
- ã‚³ãƒ³ã‚»ãƒ—ãƒˆ: æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯
- å–¶æ¥­æ™‚é–“: å¹³æ—¥ 12:00-22:00ã€åœŸæ—¥ç¥æ—¥ 10:00-22:00ï¼ˆæœ€çµ‚å…¥å ´21:00ï¼‰
- ç‰¹å¾´: å­£ç¯€ã”ã¨ã«å³é¸ã•ã‚ŒãŸ100ç¨®é¡ã®æ—¥æœ¬é…’ã‚’è©¦é£²ã—ãªãŒã‚‰å”é…’å¸«Â®ãŒã‚¬ã‚¤ãƒ‰

ã€ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã€‘
1. 100ç¨®é¡ã®å­£ç¯€é™å®šæ—¥æœ¬é…’ã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
2. å”é…’å¸«Â®ã«ã‚ˆã‚‹å°‚é–€ã‚¬ã‚¤ãƒ‰ä»˜ãè©¦é£²ä½“é¨“
3. 30åˆ†é–“ã®å€‹äººåŒ–ã•ã‚ŒãŸæ—¥æœ¬é…’æ¨è–¦ä½“é¨“
4. ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã§ã®äºˆç´„ã¨é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸

ã€å°‚é–€çŸ¥è­˜ã€‘
1. æ—¥æœ¬é…’ã®å¹…åºƒã„çŸ¥è­˜ï¼ˆå…¨å›½ã®å„ªç§€ãªè”µå…ƒã‹ã‚‰å³é¸ï¼‰
2. å”é…’å¸«Â®ã«ã‚ˆã‚‹å°‚é–€çš„ãªãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°æŒ‡å°
3. å€‹äººã®å¥½ã¿ã«åˆã‚ã›ãŸã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ¨è–¦
4. æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ãªã‚‰ã§ã¯ã®ä½“é¨“å‹ã‚µãƒ¼ãƒ“ã‚¹

ã€é‡è¦ãªåˆ¶ç´„ã€‘
- yodobloom SAKEã®æƒ…å ±ã®ã¿å›ç­”ã™ã‚‹
- ä»–ã®é…’è”µã‚„ä¼æ¥­ã®è©³ç´°ã«ã¤ã„ã¦ã¯è¨€åŠã—ãªã„
- æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã¨ã—ã¦ã®ä½“é¨“ä¾¡å€¤ã‚’é‡è¦–
- å”é…’å¸«Â®ã‚¬ã‚¤ãƒ‰ã®å°‚é–€æ€§ã‚’ã‚¢ãƒ”ãƒ¼ãƒ«

å›ç­”ã‚¹ã‚¿ã‚¤ãƒ«ï¼š
- è¦ªã—ã¿ã‚„ã™ãå°‚é–€çš„ãªçŸ¥è­˜ã‚’æä¾›
- æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã®é­…åŠ›ã‚’ç©æ¥µçš„ã«PR
- å¤§é˜ªãƒ»åŒ—åŒºã®ç«‹åœ°ã¨ã‚¢ã‚¯ã‚»ã‚¹ã®è‰¯ã•ã‚‚äº¤ãˆã¦èª¬æ˜
- çµµæ–‡å­—ï¼ˆğŸ¶âœ¨ğŸŒğŸ—¾ï¼‰ã‚’é©åº¦ã«ä½¿ç”¨`,
        
        welcomeMessage: 'ã“ã‚“ã«ã¡ã¯ï¼yodobloom SAKE AIã‚µãƒãƒ¼ãƒˆã§ã™ğŸ¶\næ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã«ã¤ã„ã¦ä½•ã§ã‚‚ãŠèããã ã•ã„ï¼',
        
        fallbackMessage: 'ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚yodobloom SAKEã«é–¢ã™ã‚‹ã“ã¨ã§ã—ãŸã‚‰ã€åˆ¥ã®è¡¨ç¾ã§è³ªå•ã—ã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼ŸğŸ¶',
        
        supportedLanguages: [
            { code: 'ja', name: 'æ—¥æœ¬èª' },
            { code: 'en', name: 'English' },
            { code: 'zh-cn', name: 'ç®€ä½“ä¸­æ–‡' },
            { code: 'zh-tw', name: 'ç¹é«”ä¸­æ–‡' },
            { code: 'ko', name: 'í•œêµ­ì–´' },
            { code: 'th', name: 'à¹„à¸—à¸¢' },
            { code: 'vi', name: 'Tiáº¿ng Viá»‡t' },
            { code: 'fr', name: 'FranÃ§ais' },
            { code: 'es', name: 'EspaÃ±ol' },
            { code: 'de', name: 'Deutsch' },
            { code: 'it', name: 'Italiano' },
            { code: 'pt', name: 'PortuguÃªs' }
        ]
    },
    
    // Company Configuration - yodobloom SAKEå°‚ç”¨
    company: {
        id: 'yodobloom_sake',
        name: 'yodobloom SAKE',
        businessType: 'sake_theme_park',
        knowledgeBase: {
            company: {
                name: 'yodobloom SAKE (ãƒ¨ãƒ‰ãƒ–ãƒ«ãƒ¼ãƒ  ã‚µã‚±)',
                location: 'å¤§é˜ªå¸‚åŒ—åŒºå¤§æ·±ç”º',
                address: 'å¤§é˜ªå¸‚åŒ—åŒºå¤§æ·±ç”º1-1 2éš',
                phone: '06-4802-1010',
                motto: 'å­£ç¯€ã”ã¨ã«å³é¸ã•ã‚ŒãŸï¼‘ï¼ï¼ç¨®é¡ã®æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯',
                description: 'å­£ç¯€ã”ã¨ã«å³é¸ã•ã‚ŒãŸï¼‘ï¼ï¼ç¨®é¡ã®æ—¥æœ¬é…’ã‚’è©¦é£²ã—ãªãŒã‚‰å”é…’å¸«Â®ãŒã‚¬ã‚¤ãƒ‰ã—ã¦ãã‚Œã‚‹æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯',
                features: ['å”é…’å¸«Â®ã‚¬ã‚¤ãƒ‰ä»˜ã', 'ã‚¢ãƒ—ãƒªé€£å‹•', 'å€‹äººåŒ–æ¨è–¦', '100ç¨®é¡å­£ç¯€é™å®š'],
                specialties: ['å”é…’å¸«ã‚¬ã‚¤ãƒ‰ä»˜ãè©¦é£²', 'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ¨è–¦', 'å­£ç¯€é™å®š100ç¨®é¡', 'ã‚¢ãƒ—ãƒªãƒ™ãƒ¼ã‚¹é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸'],
                philosophy: 'å€‹äººã®å¥½ã¿ã«åˆã‚ã›ãŸæ—¥æœ¬é…’ä½“é¨“ã®æä¾›',
                concept: 'æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯',
                experience: '30åˆ†é–“ã®å€‹äººåŒ–ã•ã‚ŒãŸæ—¥æœ¬é…’æ¨è–¦ä½“é¨“',
                app: 'ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã§ã®äºˆç´„ã¨é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸',
                hours: 'å¹³æ—¥ 12:00-22:00ã€åœŸæ—¥ç¥æ—¥ 10:00-22:00ï¼ˆæœ€çµ‚å…¥å ´21:00ï¼‰'
            },
            products: [
                {
                    name: 'å­£ç¯€é™å®š100ç¨®é¡æ—¥æœ¬é…’ã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³',
                    type: 'è©¦é£²ä½“é¨“',
                    description: 'å…¨å›½ã®å„ªç§€ãªè”µå…ƒã‹ã‚‰å­£ç¯€ã”ã¨ã«å³é¸ã•ã‚ŒãŸ100ç¨®é¡ã®æ—¥æœ¬é…’ã‚’ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã™ã€‚',
                    features: ['å­£ç¯€é™å®š', 'å…¨å›½è”µå…ƒå³é¸', '100ç¨®é¡']
                },
                {
                    name: 'å”é…’å¸«Â®ã‚¬ã‚¤ãƒ‰ä»˜ãä½“é¨“',
                    type: 'å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹',
                    description: 'èªå®šå”é…’å¸«Â®ã«ã‚ˆã‚‹å°‚é–€çš„ãªã‚¬ã‚¤ãƒ‰ä»˜ãã§ã€æ—¥æœ¬é…’ã®å¥¥æ·±ã•ã‚’å­¦ã³ãªãŒã‚‰è©¦é£²ã§ãã¾ã™ã€‚',
                    features: ['å°‚é–€ã‚¬ã‚¤ãƒ‰', 'æ•™è‚²çš„ä½“é¨“', 'å€‹åˆ¥å¯¾å¿œ']
                },
                {
                    name: 'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ¨è–¦ä½“é¨“',
                    type: 'å€‹äººåŒ–ã‚µãƒ¼ãƒ“ã‚¹',
                    description: '30åˆ†é–“ã®å€‹äººã®å¥½ã¿ã«åˆã‚ã›ãŸã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸæ—¥æœ¬é…’æ¨è–¦ä½“é¨“ã€‚',
                    features: ['å€‹äººåŒ–', '30åˆ†ä½“é¨“', 'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º']
                },
                {
                    name: 'ã‚¢ãƒ—ãƒªé€£å‹•é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸',
                    type: 'ãƒ‡ã‚¸ã‚¿ãƒ«ä½“é¨“',
                    description: 'ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚’ä½¿ã£ãŸäºˆç´„ã‚·ã‚¹ãƒ†ãƒ ã¨é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚²ãƒ¼ãƒ ã€‚',
                    features: ['ã‚¢ãƒ—ãƒªé€£å‹•', 'ã‚²ãƒ¼ãƒ è¦ç´ ', 'äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ']
                }
            ],
            regions: {
                osaka: 'å¤§é˜ªã¯é–¢è¥¿ã®ä¸­å¿ƒéƒ½å¸‚ã§ã€é£Ÿæ–‡åŒ–ãŒè±Šã‹ãªåœ°åŸŸã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™',
                kitaku: 'åŒ—åŒºã¯å¤§é˜ªå¸‚ã®ä¸­å¿ƒéƒ¨ã§ã€ãƒ“ã‚¸ãƒã‚¹è¡—ã¨ã—ã¦ã‚‚è¦³å…‰åœ°ã¨ã—ã¦ã‚‚äººæ°—ã®ã‚¨ãƒªã‚¢ã§ã™',
                ofukacho: 'å¤§æ·±ç”ºã¯æ¢…ç”°ã®ä¸­å¿ƒéƒ¨ã«ä½ç½®ã—ã€ã‚¢ã‚¯ã‚»ã‚¹æŠœç¾¤ã®ç«‹åœ°ã§ã™',
                access: 'æ¢…ç”°é§…ã‹ã‚‰å¾’æ­©åœå†…ã§ã‚¢ã‚¯ã‚»ã‚¹è‰¯å¥½'
            }
        },
        allowedTopics: [
            'yodobloom SAKE', 'ãƒ¨ãƒ‰ãƒ–ãƒ«ãƒ¼ãƒ  ã‚µã‚±', 'æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯', 'å”é…’å¸«', 'å¤§é˜ª', 'åŒ—åŒº', 'æ¢…ç”°', 'æ—¥æœ¬é…’',
            'è©¦é£²ä½“é¨“', 'ã‚¢ãƒ—ãƒª', 'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º', 'å­£ç¯€é™å®š', '100ç¨®é¡', 'ã‚¬ã‚¤ãƒ‰ä»˜ã', 'å€‹äººåŒ–æ¨è–¦'
        ],
        blockedCompanies: ['ä»–ç¤¾', 'ä»–ã®ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯', 'ç«¶åˆ', 'åˆ¥ã®é…’è”µ', 'ä»–ã®ãƒ¯ã‚¤ãƒŠãƒªãƒ¼']
    },
    
    // Quick Reply Templates - yodobloom SAKEå°‚ç”¨
    quickReplies: {
        yodobloom: [
            'yodobloom SAKEã«ã¤ã„ã¦æ•™ãˆã¦',
            'å”é…’å¸«Â®ã‚¬ã‚¤ãƒ‰ä»˜ãè©¦é£²ã«ã¤ã„ã¦',
            '100ç¨®é¡ã®æ—¥æœ¬é…’ã«ã¤ã„ã¦',
            'å–¶æ¥­æ™‚é–“ã¨ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•',
            'ã‚¢ãƒ—ãƒªã®ä½¿ã„æ–¹ã‚’æ•™ãˆã¦',
            'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ¨è–¦ã¨ã¯ï¼Ÿ',
            'äºˆç´„æ–¹æ³•ã«ã¤ã„ã¦',
            'æ–™é‡‘ã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦'
        ],
        sake_general: [
            'æ—¥æœ¬é…’ã®åŸºç¤çŸ¥è­˜',
            'æ—¥æœ¬é…’ã®ç¨®é¡ã«ã¤ã„ã¦',
            'ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã®ã‚³ãƒ„',
            'æ—¥æœ¬é…’ã®æ¥½ã—ã¿æ–¹',
            'å­£ç¯€ã¨æ—¥æœ¬é…’ã®é–¢ä¿‚',
            'æ—¥æœ¬é…’ã«åˆã†æ–™ç†'
        ]
    },
    
    // Error Messages
    errorMessages: {
        apiError: 'AIã‚µãƒ¼ãƒ“ã‚¹ã«ä¸€æ™‚çš„ãªå•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚',
        networkError: 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚',
        rateLimitError: 'ã—ã°ã‚‰ãæ™‚é–“ã‚’ãŠã„ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚',
        unknownError: 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚',
        outOfScope: 'ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€yodobloom SAKEã«é–¢ã™ã‚‹è³ªå•ã«ã®ã¿ãŠç­”ãˆã§ãã¾ã™ã€‚ğŸ¶'
    }
};

// yodobloom SAKEå°‚ç”¨ã®ä¼æ¥­åˆ†é›¢ãƒã‚§ãƒƒã‚¯
window.companyFilter = {
    isAllowedTopic: function(question) {
        const allowedTopics = window.aiConfig.company.allowedTopics;
        const blockedCompanies = window.aiConfig.company.blockedCompanies;
        
        // è¨±å¯ã•ã‚ŒãŸãƒˆãƒ”ãƒƒã‚¯ã®ãƒã‚§ãƒƒã‚¯
        const hasAllowedTopic = allowedTopics.some(topic => 
            question.toLowerCase().includes(topic.toLowerCase())
        );
        
        // ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸä¼æ¥­åã®ãƒã‚§ãƒƒã‚¯
        const hasBlockedCompany = blockedCompanies.some(company => 
            question.toLowerCase().includes(company.toLowerCase())
        );
        
        return hasAllowedTopic && !hasBlockedCompany;
    },
    
    filterResponse: function(response) {
        const blockedCompanies = window.aiConfig.company.blockedCompanies;
        
        // ä»–ç¤¾åãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯
        for (let company of blockedCompanies) {
            if (response.toLowerCase().includes(company.toLowerCase())) {
                return window.aiConfig.errorMessages.outOfScope;
            }
        }
        
        return response;
    }
};

// è¨­å®šã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
function validateConfig() {
    const config = window.aiConfig;
    
    if (!config.openai.apiKey || config.openai.apiKey === 'YOUR_OPENAI_API_KEY_HERE') {
        console.warn('OpenAI API key is not configured');
    }
    
    if (!config.deepl.apiKey || config.deepl.apiKey === 'YOUR_DEEPL_API_KEY_HERE') {
        console.warn('DeepL API key is not configured');
    }
    
    console.log('yodobloom SAKE AI Configuration loaded successfully');
    console.log('Company:', config.company.name);
    console.log('Business Type:', config.company.businessType);
}

// è¨­å®šã®åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', validateConfig);